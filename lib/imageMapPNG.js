'use strict';

var sharp = require('sharp'),
    necessary = require('necessary');

var constants = require('./constants'),
    namesUtilities = require('./utilities/names');

var asynchronousUtilities = necessary.asynchronousUtilities,
    fileSystemUtilities = necessary.fileSystemUtilities,
    whilst = asynchronousUtilities.whilst,
    readDirectory = fileSystemUtilities.readDirectory,
    removeHiddenNames = namesUtilities.removeHiddenNames,
    dimensionFromNames = namesUtilities.dimensionFromNames,
    RED = constants.RED,
    BLUE = constants.BLUE,
    GREEN = constants.GREEN,
    ALPHA = constants.ALPHA,
    CHANNELS = constants.CHANNELS;


function imageMapPNG(names, imageDirectoryPath, overlayImageSize, response) {
  var namesLength = names.length;

  if (namesLength === 0) {
    names = readDirectory(imageDirectoryPath);
  }

  names = removeHiddenNames(names);

  var dimension = dimensionFromNames(names);

  createImageMap(dimension, overlayImageSize, function (imageBuffer) {
    var context = {
      names: names,
      dimension: dimension,
      imageBuffer: imageBuffer,
      overlayImageSize: overlayImageSize,
      imageDirectoryPath: imageDirectoryPath
    };

    whilst(overlayCallback, function () {
      response.writeHead(200, { 'Content-Type': 'image/png; charset=utf-8' });

      var imageBuffer = context.imageBuffer;


      sharp(imageBuffer).pipe(response);
    }, context);
  });
}

module.exports = imageMapPNG;

function createImageMap(dimension, overlayImageSize, callback) {
  var size = dimension * overlayImageSize,
      width = size,
      ///
  height = size,
      ///
  alpha = ALPHA,
      channels = CHANNELS,
      r = RED,
      ///
  g = GREEN,
      ///
  b = BLUE,
      ///
  background = {
    r: r,
    g: g,
    b: b,
    alpha: alpha
  },
      options = {
    width: width,
    height: height,
    channels: channels,
    background: background
  },
      create = options,
      ///
  imageMap = sharp({
    create: create
  });

  imageMap.png().toBuffer().then(function (imageBuffer) {
    callback(imageBuffer);
  });
}

function overlayCallback(next, done, context, index) {
  var names = context.names,
      dimension = context.dimension,
      imageBuffer = context.imageBuffer,
      overlayImageSize = context.overlayImageSize,
      imageDirectoryPath = context.imageDirectoryPath,
      namesLength = names.length,
      lastIndex = namesLength - 1;


  if (index > lastIndex) {
    done();

    return;
  }

  var name = names[index],
      path = imageDirectoryPath + '/' + name;

  resizeImage(path, overlayImageSize, function (resizedImageBuffer) {
    var top = (dimension - 1 - Math.floor(index / dimension)) * overlayImageSize,
        left = index % dimension * overlayImageSize,
        options = {
      top: top,
      left: left
    };

    sharp(imageBuffer).overlayWith(resizedImageBuffer, options).toBuffer().then(function (imageBuffer) {
      Object.assign(context, {
        imageBuffer: imageBuffer
      });

      next();
    });
  });
}

function resizeImage(path, overlayImageSize, callback) {
  var width = overlayImageSize,
      ///
  height = overlayImageSize; ///

  sharp(path).resize(width, height).toBuffer().then(function (imageBuffer) {
    var resizedImageBuffer = imageBuffer; ///

    callback(resizedImageBuffer);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9pbWFnZU1hcFBORy5qcyJdLCJuYW1lcyI6WyJzaGFycCIsInJlcXVpcmUiLCJuZWNlc3NhcnkiLCJjb25zdGFudHMiLCJuYW1lc1V0aWxpdGllcyIsImFzeW5jaHJvbm91c1V0aWxpdGllcyIsImZpbGVTeXN0ZW1VdGlsaXRpZXMiLCJ3aGlsc3QiLCJyZWFkRGlyZWN0b3J5IiwicmVtb3ZlSGlkZGVuTmFtZXMiLCJkaW1lbnNpb25Gcm9tTmFtZXMiLCJSRUQiLCJCTFVFIiwiR1JFRU4iLCJBTFBIQSIsIkNIQU5ORUxTIiwiaW1hZ2VNYXBQTkciLCJuYW1lcyIsImltYWdlRGlyZWN0b3J5UGF0aCIsIm92ZXJsYXlJbWFnZVNpemUiLCJyZXNwb25zZSIsIm5hbWVzTGVuZ3RoIiwibGVuZ3RoIiwiZGltZW5zaW9uIiwiY3JlYXRlSW1hZ2VNYXAiLCJpbWFnZUJ1ZmZlciIsImNvbnRleHQiLCJvdmVybGF5Q2FsbGJhY2siLCJ3cml0ZUhlYWQiLCJwaXBlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNhbGxiYWNrIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWxwaGEiLCJjaGFubmVscyIsInIiLCJnIiwiYiIsImJhY2tncm91bmQiLCJvcHRpb25zIiwiY3JlYXRlIiwiaW1hZ2VNYXAiLCJwbmciLCJ0b0J1ZmZlciIsInRoZW4iLCJuZXh0IiwiZG9uZSIsImluZGV4IiwibGFzdEluZGV4IiwibmFtZSIsInBhdGgiLCJyZXNpemVJbWFnZSIsInJlc2l6ZWRJbWFnZUJ1ZmZlciIsInRvcCIsIk1hdGgiLCJmbG9vciIsImxlZnQiLCJvdmVybGF5V2l0aCIsIk9iamVjdCIsImFzc2lnbiIsInJlc2l6ZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsUUFBUUMsUUFBUSxPQUFSLENBQWQ7QUFBQSxJQUNNQyxZQUFZRCxRQUFRLFdBQVIsQ0FEbEI7O0FBR0EsSUFBTUUsWUFBWUYsUUFBUSxhQUFSLENBQWxCO0FBQUEsSUFDR0csaUJBQWlCSCxRQUFR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QjtBQUMxQixRQUFNOEIscUJBQXFCOUIsV0FBM0IsQ0FEMEIsQ0FDYzs7QUFFeENPLGFBQVN1QixrQkFBVDtBQUNELEdBUEg7QUFRRCIsImZpbGUiOiJpbWFnZU1hcFBORy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3Qgc2hhcnAgPSByZXF1aXJlKCdzaGFycCcpLFxuICAgICAgbmVjZXNzYXJ5ID0gcmVxdWlyZSgnbmVjZXNzYXJ5Jyk7XG5cbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyksXG5cdFx0XHRuYW1lc1V0aWxpdGllcyA9IHJlcXVpcmUoJy4vdXRpbGl0aWVzL25hbWVzJyk7XG5cbmNvbnN0IHsgYXN5bmNocm9ub3VzVXRpbGl0aWVzLCBmaWxlU3lzdGVtVXRpbGl0aWVzIH0gPSBuZWNlc3NhcnksXG4gICAgICB7IHdoaWxzdCB9ID0gYXN5bmNocm9ub3VzVXRpbGl0aWVzLFxuICAgICAgeyByZWFkRGlyZWN0b3J5IH0gPSBmaWxlU3lzdGVtVXRpbGl0aWVzLFxuICAgICAgeyByZW1vdmVIaWRkZW5OYW1lcywgZGltZW5zaW9uRnJvbU5hbWVzIH0gPSBuYW1lc1V0aWxpdGllcyxcblx0XHRcdHsgUkVELCBCTFVFLCBHUkVFTiwgQUxQSEEsIENIQU5ORUxTIH0gPSBjb25zdGFudHM7XG5cbmZ1bmN0aW9uIGltYWdlTWFwUE5HKG5hbWVzLCBpbWFnZURpcmVjdG9yeVBhdGgsIG92ZXJsYXlJbWFnZVNpemUsIHJlc3BvbnNlKSB7XG5cdGNvbnN0IG5hbWVzTGVuZ3RoID0gbmFtZXMubGVuZ3RoO1xuXG5cdGlmIChuYW1lc0xlbmd0aCA9PT0gMCkge1xuXHRcdG5hbWVzID0gcmVhZERpcmVjdG9yeShpbWFnZURpcmVjdG9yeVBhdGgpO1xuXHR9XG5cblx0bmFtZXMgPSByZW1vdmVIaWRkZW5OYW1lcyhuYW1lcyk7XG5cblx0Y29uc3QgZGltZW5zaW9uID0gZGltZW5zaW9uRnJvbU5hbWVzKG5hbWVzKTtcblxuXHRjcmVhdGVJbWFnZU1hcChkaW1lbnNpb24sIG92ZXJsYXlJbWFnZVNpemUsIGZ1bmN0aW9uKGltYWdlQnVmZmVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIG5hbWVzLFxuICAgICAgZGltZW5zaW9uLFxuICAgICAgaW1hZ2VCdWZmZXIsXG4gICAgICBvdmVybGF5SW1hZ2VTaXplLFxuICAgICAgaW1hZ2VEaXJlY3RvcnlQYXRoXG4gICAgfTtcbiAgICBcbiAgICB3aGlsc3Qob3ZlcmxheUNhbGxiYWNrLCBmdW5jdGlvbigpIHtcbiAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgyMDAsIHsnQ29udGVudC1UeXBlJzogJ2ltYWdlL3BuZzsgY2hhcnNldD11dGYtOCd9KTtcblxuICAgICAgY29uc3QgeyBpbWFnZUJ1ZmZlciB9ID0gY29udGV4dDtcblxuICAgICAgc2hhcnAoaW1hZ2VCdWZmZXIpLnBpcGUocmVzcG9uc2UpO1xuICAgIH0sIGNvbnRleHQpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbWFnZU1hcFBORztcblxuZnVuY3Rpb24gY3JlYXRlSW1hZ2VNYXAoZGltZW5zaW9uLCBvdmVybGF5SW1hZ2VTaXplLCBjYWxsYmFjaykge1xuICBjb25zdCBzaXplID0gZGltZW5zaW9uICogb3ZlcmxheUltYWdlU2l6ZSxcblx0XHRcdFx0d2lkdGggPSBzaXplLFx0Ly8vXG4gICAgICAgIGhlaWdodCA9IHNpemUsXHQvLy9cblx0XHRcdCAgYWxwaGEgPSBBTFBIQSxcbiAgICAgICAgY2hhbm5lbHMgPSBDSEFOTkVMUyxcblx0XHRcdCAgciA9IFJFRCxcdC8vL1xuXHRcdFx0ICBnID0gR1JFRU4sXHQvLy9cblx0XHRcdCAgYiA9IEJMVUUsXHQvLy9cbiAgICAgICAgYmFja2dyb3VuZCA9IHtcbiAgXHQgICAgICByLFxuXHQgICAgICAgIGcsXG5cdCAgICAgICAgYixcblx0ICAgICAgICBhbHBoYVxuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICBjaGFubmVscyxcbiAgICAgICAgICBiYWNrZ3JvdW5kXG4gICAgICAgIH0sXG5cdFx0XHQgIGNyZWF0ZSA9IG9wdGlvbnMsIC8vL1xuICAgICAgICBpbWFnZU1hcCA9IHNoYXJwKHtcbiAgICAgICAgICBjcmVhdGVcbiAgICAgICAgfSk7XG5cbiAgaW1hZ2VNYXBcbiAgICAucG5nKClcbiAgICAudG9CdWZmZXIoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlQnVmZmVyKSB7XG4gICAgICBjYWxsYmFjayhpbWFnZUJ1ZmZlcilcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb3ZlcmxheUNhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KSB7XG4gIGNvbnN0IHsgbmFtZXMsIGRpbWVuc2lvbiwgaW1hZ2VCdWZmZXIsIG92ZXJsYXlJbWFnZVNpemUsIGltYWdlRGlyZWN0b3J5UGF0aCB9ID0gY29udGV4dCxcbiAgICAgICAgbmFtZXNMZW5ndGggPSBuYW1lcy5sZW5ndGgsXG4gICAgICAgIGxhc3RJbmRleCA9IG5hbWVzTGVuZ3RoIC0gMTtcblxuICBpZiAoaW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICBkb25lKCk7XG4gICAgXG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBjb25zdCBuYW1lID0gbmFtZXNbaW5kZXhdLFxuICAgICAgICBwYXRoID0gYCR7aW1hZ2VEaXJlY3RvcnlQYXRofS8ke25hbWV9YDtcblxuICByZXNpemVJbWFnZShwYXRoLCBvdmVybGF5SW1hZ2VTaXplLCBmdW5jdGlvbihyZXNpemVkSW1hZ2VCdWZmZXIpIHtcbiAgICBjb25zdCB0b3AgPSAoKGRpbWVuc2lvbiAtIDEpIC0gTWF0aC5mbG9vcihpbmRleCAvIGRpbWVuc2lvbikpICogb3ZlcmxheUltYWdlU2l6ZSxcbiAgICAgICAgICBsZWZ0ID0gKGluZGV4ICUgZGltZW5zaW9uKSAqIG92ZXJsYXlJbWFnZVNpemUsXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnRcbiAgICAgICAgICB9O1xuXG4gICAgc2hhcnAoaW1hZ2VCdWZmZXIpXG4gICAgICAub3ZlcmxheVdpdGgocmVzaXplZEltYWdlQnVmZmVyLCBvcHRpb25zKVxuICAgICAgLnRvQnVmZmVyKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlQnVmZmVyKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwge1xuICAgICAgICAgIGltYWdlQnVmZmVyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzaXplSW1hZ2UocGF0aCwgb3ZlcmxheUltYWdlU2l6ZSwgY2FsbGJhY2spIHtcbiAgY29uc3Qgd2lkdGggPSBvdmVybGF5SW1hZ2VTaXplLCAvLy9cbiAgICAgICAgaGVpZ2h0ID0gb3ZlcmxheUltYWdlU2l6ZTsgIC8vL1xuICBcbiAgc2hhcnAocGF0aClcbiAgICAucmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAgLnRvQnVmZmVyKClcbiAgICAudGhlbihmdW5jdGlvbihpbWFnZUJ1ZmZlcikge1xuICAgICAgY29uc3QgcmVzaXplZEltYWdlQnVmZmVyID0gaW1hZ2VCdWZmZXI7IC8vL1xuXG4gICAgICBjYWxsYmFjayhyZXNpemVkSW1hZ2VCdWZmZXIpO1xuICAgIH0pO1xufVxuIl19