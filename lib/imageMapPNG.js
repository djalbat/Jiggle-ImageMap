'use strict';

var sharp = require('sharp'),
    necessary = require('necessary');

var constants = require('./constants'),
    namesUtilities = require('./utilities/names');

var asynchronousUtilities = necessary.asynchronousUtilities,
    fileSystemUtilities = necessary.fileSystemUtilities,
    whilst = asynchronousUtilities.whilst,
    readDirectory = fileSystemUtilities.readDirectory,
    removeHiddenNames = namesUtilities.removeHiddenNames,
    dimensionFromNames = namesUtilities.dimensionFromNames,
    RED = constants.RED,
    BLUE = constants.BLUE,
    GREEN = constants.GREEN,
    ALPHA = constants.ALPHA,
    CHANNELS = constants.CHANNELS;


function imageMapPNG(names, imageDirectoryPath, overlayImageSize, response) {
  var namesLength = names.length;

  if (namesLength === 0) {
    names = readDirectory(imageDirectoryPath);
  }

  names = removeHiddenNames(names);

  var dimension = dimensionFromNames(names);

  createImageMap(dimension, overlayImageSize, function (imageBuffer) {
    var context = {
      names: names,
      dimension: dimension,
      imageBuffer: imageBuffer,
      overlayImageSize: overlayImageSize,
      imageDirectoryPath: imageDirectoryPath
    };

    whilst(overlayCallback, function () {
      response.writeHead(200, { 'Content-Type': 'image/png; charset=utf-8' });

      var imageBuffer = context.imageBuffer;


      sharp(imageBuffer).pipe(response);
    }, context);
  });
}

module.exports = imageMapPNG;

function createImageMap(dimension, overlayImageSize, callback) {
  var size = dimension * overlayImageSize,
      width = size,
      ///
  height = size,
      ///
  alpha = ALPHA,
      channels = CHANNELS,
      r = RED,
      ///
  g = GREEN,
      ///
  b = BLUE,
      ///
  background = {
    r: r,
    g: g,
    b: b,
    alpha: alpha
  },
      options = {
    width: width,
    height: height,
    channels: channels,
    background: background
  },
      create = options,
      ///
  imageMap = sharp({
    create: create
  });

  imageMap.png().toBuffer().then(function (imageBuffer) {
    callback(imageBuffer);
  });
}

function overlayCallback(next, done, context, index) {
  var names = context.names,
      dimension = context.dimension,
      imageBuffer = context.imageBuffer,
      overlayImageSize = context.overlayImageSize,
      imageDirectoryPath = context.imageDirectoryPath,
      namesLength = names.length,
      lastIndex = namesLength - 1;


  if (index > lastIndex) {
    done();

    return;
  }

  var name = names[index],
      path = imageDirectoryPath + '/' + name;

  resizeImage(path, overlayImageSize, function (resizedImageBuffer) {
    var top = (dimension - 1 - Math.floor(index / dimension)) * overlayImageSize,
        left = index % dimension * overlayImageSize,
        options = {
      top: top,
      left: left
    };

    sharp(imageBuffer).overlayWith(resizedImageBuffer, options).toBuffer().then(function (imageBuffer) {
      Object.assign(context, {
        imageBuffer: imageBuffer
      });

      next();
    });
  });
}

function resizeImage(path, overlayImageSize, callback) {
  var width = overlayImageSize,
      ///
  height = overlayImageSize; ///

  sharp(path).resize(width, height).toBuffer().then(function (imageBuffer) {
    var resizedImageBuffer = imageBuffer; ///

    callback(resizedImageBuffer);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9pbWFnZU1hcFBORy5qcyJdLCJuYW1lcyI6WyJzaGFycCIsInJlcXVpcmUiLCJuZWNlc3NhcnkiLCJjb25zdGFudHMiLCJuYW1lc1V0aWxpdGllcyIsImFzeW5jaHJvbm91c1V0aWxpdGllcyIsImZpbGVTeXN0ZW1VdGlsaXRpZXMiLCJ3aGlsc3QiLCJyZWFkRGlyZWN0b3J5IiwicmVtb3ZlSGlkZGVuTmFtZXMiLCJkaW1lbnNpb25Gcm9tTmFtZXMiLCJSRUQiLCJCTFVFIiwiR1JFRU4iLCJBTFBIQSIsIkNIQU5ORUxTIiwiaW1hZ2VNYXBQTkciLCJuYW1lcyIsImltYWdlRGlyZWN0b3J5UGF0aCIsIm92ZXJsYXlJbWFnZVNpemUiLCJyZXNwb25zZSIsIm5hbWVzTGVuZ3RoIiwibGVuZ3RoIiwiZGltZW5zaW9uIiwiY3JlYXRlSW1hZ2VNYXAiLCJpbWFnZUJ1ZmZlciIsImNvbnRleHQiLCJvdmVybGF5Q2FsbGJhY2siLCJ3cml0ZUhlYWQiLCJwaXBlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNhbGxiYWNrIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWxwaGEiLCJjaGFubmVscyIsInIiLCJnIiwiYiIsImJhY2tncm91bmQiLCJvcHRpb25zIiwiY3JlYXRlIiwiaW1hZ2VNYXAiLCJwbmciLCJ0b0J1ZmZlciIsInRoZW4iLCJuZXh0IiwiZG9uZSIsImluZGV4IiwibGFzdEluZGV4IiwibmFtZSIsInBhdGgiLCJyZXNpemVJbWFnZSIsInJlc2l6ZWRJbWFnZUJ1ZmZlciIsInRvcCIsIk1hdGgiLCJmbG9vciIsImxlZnQiLCJvdmVybGF5V2l0aCIsIk9iamVjdCIsImFzc2lnbiIsInJlc2l6ZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsUUFBUUMsUUFBUSxPQUFSLENBQWQ7QUFBQSxJQUNNQyxZQUFZRCxRQUFRLFdBQVIsQ0FEbEI7O0FBR0EsSUFBTUUsWUFBWUYsUUFBUSxhQUFSLENBQWxCO0FBQUEsSUFDTUcsaUJBQWlCSCxRQUFR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QXNCO0FBQzFCLFFBQU04QixxQkFBcUI5QixXQUEzQixDQUQwQixDQUNjOztBQUV4Q08sYUFBU3VCLGtCQUFUO0FBQ0QsR0FQSDtBQVFEIiwiZmlsZSI6ImltYWdlTWFwUE5HLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBzaGFycCA9IHJlcXVpcmUoJ3NoYXJwJyksXG4gICAgICBuZWNlc3NhcnkgPSByZXF1aXJlKCduZWNlc3NhcnknKTtcblxuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKSxcbiAgICAgIG5hbWVzVXRpbGl0aWVzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMvbmFtZXMnKTtcblxuY29uc3QgeyBhc3luY2hyb25vdXNVdGlsaXRpZXMsIGZpbGVTeXN0ZW1VdGlsaXRpZXMgfSA9IG5lY2Vzc2FyeSxcbiAgICAgIHsgd2hpbHN0IH0gPSBhc3luY2hyb25vdXNVdGlsaXRpZXMsXG4gICAgICB7IHJlYWREaXJlY3RvcnkgfSA9IGZpbGVTeXN0ZW1VdGlsaXRpZXMsXG4gICAgICB7IHJlbW92ZUhpZGRlbk5hbWVzLCBkaW1lbnNpb25Gcm9tTmFtZXMgfSA9IG5hbWVzVXRpbGl0aWVzLFxuICAgICAgeyBSRUQsIEJMVUUsIEdSRUVOLCBBTFBIQSwgQ0hBTk5FTFMgfSA9IGNvbnN0YW50cztcblxuZnVuY3Rpb24gaW1hZ2VNYXBQTkcobmFtZXMsIGltYWdlRGlyZWN0b3J5UGF0aCwgb3ZlcmxheUltYWdlU2l6ZSwgcmVzcG9uc2UpIHtcbiAgY29uc3QgbmFtZXNMZW5ndGggPSBuYW1lcy5sZW5ndGg7XG5cbiAgaWYgKG5hbWVzTGVuZ3RoID09PSAwKSB7XG4gICAgbmFtZXMgPSByZWFkRGlyZWN0b3J5KGltYWdlRGlyZWN0b3J5UGF0aCk7XG4gIH1cblxuICBuYW1lcyA9IHJlbW92ZUhpZGRlbk5hbWVzKG5hbWVzKTtcblxuICBjb25zdCBkaW1lbnNpb24gPSBkaW1lbnNpb25Gcm9tTmFtZXMobmFtZXMpO1xuXG4gIGNyZWF0ZUltYWdlTWFwKGRpbWVuc2lvbiwgb3ZlcmxheUltYWdlU2l6ZSwgZnVuY3Rpb24oaW1hZ2VCdWZmZXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgbmFtZXMsXG4gICAgICBkaW1lbnNpb24sXG4gICAgICBpbWFnZUJ1ZmZlcixcbiAgICAgIG92ZXJsYXlJbWFnZVNpemUsXG4gICAgICBpbWFnZURpcmVjdG9yeVBhdGhcbiAgICB9O1xuXG4gICAgd2hpbHN0KG92ZXJsYXlDYWxsYmFjaywgZnVuY3Rpb24oKSB7XG4gICAgICByZXNwb25zZS53cml0ZUhlYWQoMjAwLCB7J0NvbnRlbnQtVHlwZSc6ICdpbWFnZS9wbmc7IGNoYXJzZXQ9dXRmLTgnfSk7XG5cbiAgICAgIGNvbnN0IHsgaW1hZ2VCdWZmZXIgfSA9IGNvbnRleHQ7XG5cbiAgICAgIHNoYXJwKGltYWdlQnVmZmVyKS5waXBlKHJlc3BvbnNlKTtcbiAgICB9LCBjb250ZXh0KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW1hZ2VNYXBQTkc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUltYWdlTWFwKGRpbWVuc2lvbiwgb3ZlcmxheUltYWdlU2l6ZSwgY2FsbGJhY2spIHtcbiAgY29uc3Qgc2l6ZSA9IGRpbWVuc2lvbiAqIG92ZXJsYXlJbWFnZVNpemUsXG4gICAgICAgIHdpZHRoID0gc2l6ZSxcdC8vL1xuICAgICAgICBoZWlnaHQgPSBzaXplLFx0Ly8vXG4gICAgICAgIGFscGhhID0gQUxQSEEsXG4gICAgICAgIGNoYW5uZWxzID0gQ0hBTk5FTFMsXG4gICAgICAgIHIgPSBSRUQsXHQvLy9cbiAgICAgICAgZyA9IEdSRUVOLFx0Ly8vXG4gICAgICAgIGIgPSBCTFVFLFx0Ly8vXG4gICAgICAgIGJhY2tncm91bmQgPSB7XG4gICAgICAgICAgcixcbiAgICAgICAgICBnLFxuICAgICAgICAgIGIsXG4gICAgICAgICAgYWxwaGFcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgY2hhbm5lbHMsXG4gICAgICAgICAgYmFja2dyb3VuZFxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUgPSBvcHRpb25zLCAvLy9cbiAgICAgICAgaW1hZ2VNYXAgPSBzaGFycCh7XG4gICAgICAgICAgY3JlYXRlXG4gICAgICAgIH0pO1xuXG4gIGltYWdlTWFwXG4gICAgLnBuZygpXG4gICAgLnRvQnVmZmVyKClcbiAgICAudGhlbihmdW5jdGlvbihpbWFnZUJ1ZmZlcikge1xuICAgICAgY2FsbGJhY2soaW1hZ2VCdWZmZXIpXG4gICAgfSk7XG4gIH1cblxuZnVuY3Rpb24gb3ZlcmxheUNhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KSB7XG4gIGNvbnN0IHsgbmFtZXMsIGRpbWVuc2lvbiwgaW1hZ2VCdWZmZXIsIG92ZXJsYXlJbWFnZVNpemUsIGltYWdlRGlyZWN0b3J5UGF0aCB9ID0gY29udGV4dCxcbiAgICAgICAgbmFtZXNMZW5ndGggPSBuYW1lcy5sZW5ndGgsXG4gICAgICAgIGxhc3RJbmRleCA9IG5hbWVzTGVuZ3RoIC0gMTtcblxuICBpZiAoaW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICBkb25lKCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBuYW1lID0gbmFtZXNbaW5kZXhdLFxuICAgICAgICBwYXRoID0gYCR7aW1hZ2VEaXJlY3RvcnlQYXRofS8ke25hbWV9YDtcblxuICByZXNpemVJbWFnZShwYXRoLCBvdmVybGF5SW1hZ2VTaXplLCBmdW5jdGlvbihyZXNpemVkSW1hZ2VCdWZmZXIpIHtcbiAgICBjb25zdCB0b3AgPSAoKGRpbWVuc2lvbiAtIDEpIC0gTWF0aC5mbG9vcihpbmRleCAvIGRpbWVuc2lvbikpICogb3ZlcmxheUltYWdlU2l6ZSxcbiAgICAgICAgICBsZWZ0ID0gKGluZGV4ICUgZGltZW5zaW9uKSAqIG92ZXJsYXlJbWFnZVNpemUsXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnRcbiAgICAgICAgICB9O1xuXG4gICAgc2hhcnAoaW1hZ2VCdWZmZXIpXG4gICAgICAub3ZlcmxheVdpdGgocmVzaXplZEltYWdlQnVmZmVyLCBvcHRpb25zKVxuICAgICAgLnRvQnVmZmVyKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGltYWdlQnVmZmVyKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwge1xuICAgICAgICBpbWFnZUJ1ZmZlclxuICAgICAgfSk7XG5cbiAgICBuZXh0KCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXNpemVJbWFnZShwYXRoLCBvdmVybGF5SW1hZ2VTaXplLCBjYWxsYmFjaykge1xuICBjb25zdCB3aWR0aCA9IG92ZXJsYXlJbWFnZVNpemUsIC8vL1xuICAgICAgICBoZWlnaHQgPSBvdmVybGF5SW1hZ2VTaXplOyAgLy8vXG5cbiAgc2hhcnAocGF0aClcbiAgICAucmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAgLnRvQnVmZmVyKClcbiAgICAudGhlbihmdW5jdGlvbihpbWFnZUJ1ZmZlcikge1xuICAgICAgY29uc3QgcmVzaXplZEltYWdlQnVmZmVyID0gaW1hZ2VCdWZmZXI7IC8vL1xuXG4gICAgICBjYWxsYmFjayhyZXNpemVkSW1hZ2VCdWZmZXIpO1xuICAgIH0pO1xufVxuIl19